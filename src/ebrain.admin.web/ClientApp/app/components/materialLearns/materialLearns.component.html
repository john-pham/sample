<header>
    <div class="row" style="padding-top: 15px;">
        <div class="col-xs-12" id="breadcrumb">
            <a class="show-sidebar pull-left" routerLink="/">
                <i class="fa fa-bars"></i>
            </a>
            <ol class="breadcrumb pull-left">
                <li><a routerLink="/mn_main_educate">{{'menu.main.Educate' | translate}}</a></li>
                <li>{{'pageMain.materialLearn.header' | translate}}</li>
            </ol>
        </div>
    </div>
</header>

<div class="row control-box">
    <div class="col-sm-10">
        <div class="form-group search-box">
            <search-box (searchChange)="onSearchChanged($event)" placeholder="{{'pageMain.materialLearn.searchBox' | translate}}">></search-box>
        </div>
    </div>
    <div class="col-sm-2">
        <div class="text-right">
            <button class="btn btn-primary" (click)="addMaterialLearn(template)"><i class="fa fa-plus-circle"></i> {{'pageMain.materialLearn.newMaterial' | translate}}</button>
        </div>
    </div>
</div>

<div [@fadeInOut]>
    <!--DATA TABLE-->
    <ngx-datatable class="materialLearn colored-header sm table-hover"
                   [loadingIndicator]="loadingIndicator"
                   [rows]="rows"
                   [rowHeight]="auto"
                   [columns]="columns"
                   [scrollbarV]="verticalScrollbar"
                   [columnMode]="'force'">
    </ngx-datatable>

    <!-- TEMPLATEs -->
    <ng-template #statusHeaderTemplate>
        <i class="fa fa-check-square-o"></i>
    </ng-template>

    <ng-template #nameTemplate let-row="row" let-value="value">
        <span attr.title="{{value}}">
            {{value}}
        </span>
    </ng-template>

    <ng-template #descriptionTemplate let-row="row" let-value="value">
        <span attr.title="{{value}}">
            {{value}}
        </span>
    </ng-template>
    <ng-template #actionsTemplate let-row="row" let-value="value">
        <a class="btn btn-link btn-xs" href="javascript:;" (click)="editMaterialLearn(template, value)"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> {{'button.Edit' | translate}}</a>
        |
        <a class="btn btn-link btn-xs" href="javascript:;" (click)="deleteMaterialLearn(value)"><i class="fa fa-trash-o" aria-hidden="true"></i> {{'button.Delete' | translate}}</a>
    </ng-template>
</div>

<ng-template #template>
    <div class="modal-header">
        <button type="button" class="close" (click)="close()" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="branch-modalLabel">{{'label.materialLearn.HeaderAdd' | translate}}</h4>
    </div>
    <div class="modal-body">

        <div class="row">
            <div class="col-sm-6">
                <div class="form-group has-feedback">
                    <label class="control-label col-md-4">{{'label.materialLearn.Code' | translate}}</label>
                    <div class="col-md-8">
                        <input class="form-control" type="text" [(ngModel)]="pointer.code">
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="form-group has-feedback">
                    <label class="control-label col-md-4">{{'label.materialLearn.Name' | translate}}</label>
                    <div class="col-md-8">
                        <input class="form-control" type="text" [(ngModel)]="pointer.name">
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <hr [class.separator-hr]="!isEditMode" [class.edit-separator-hr]="isEditMode" />
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <div class="form-group has-feedback">
                    <label class="control-label col-md-4">{{'label.materialLearn.Learning' | translate}}</label>
                    <div class="col-md-8">
                        <select id="types-info" name="types" [(ngModel)]="pointer.typeMaterialId"
                                class="form-control" required
                                (change)="onChangeMaterialLearn($event.target.value)"
                                data-live-search="true" data-actions-box="false"
                                data-live-search-placeholder="Search..."
                                title="{{'label.materialLearn.SelectLearning' | translate}}">
                            <option *ngFor="let type of allTypes"
                                    attr.data-content="<span title='{{type.note}}' class='badge'>{{type.name}}</span>"
                                    attr.value="{{type.id}}">
                                {{type.name}}
                            </option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="form-group has-feedback">
                    <label class="control-label col-md-4">{{'label.materialLearn.LevelClass' | translate}}</label>
                    <div class="col-md-8">
                        <select id="types-info" name="types" class="form-control" required
                                data-live-search="true" data-actions-box="false" data-live-search-placeholder="Search..." title="{{'label.materialLearn.SelectLevelClass' | translate}}">
                            <option *ngFor="let type of allgrps">
                                {{type.name}}
                            </option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <hr [class.separator-hr]="!isEditMode" [class.edit-separator-hr]="isEditMode" />
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <div class="form-group has-feedback">
                    <label class="control-label col-md-4">{{'label.materialLearn.NumberHourse' | translate}}</label>
                    <div class="col-md-8">
                        <input class="form-control" type="number" min="0" max="99999" sssss [(ngModel)]="pointer.hourse">
                    </div>
                </div>
            </div>

            <!--<div class="col-sm-6">
                <div class="form-group has-feedback">
                    <label class="control-label col-md-4">{{'label.materialLearn.Price' | translate}}</label>
                    <div class="col-md-8">
                        <input class="form-control" [(ngModel)]="pointer.price">
                    </div>
                    </div>
            </div>-->
        </div>

        <div class="row">
            <div class="col-md-12">
                <hr [class.separator-hr]="!isEditMode" [class.edit-separator-hr]="isEditMode" />
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <div class="form-group has-feedback">
                    <label class="control-label col-md-4">{{'label.materialLearn.Price' | translate}}</label>
                    <div class="col-md-8">
                        <input class="form-control" currencyMask type="tel" [(ngModel)]="pointer.sellPrice">
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="form-group has-feedback">
                    <label class="control-label col-md-4">{{'label.materialLearn.MaskPassCourse' | translate}}</label>
                    <div class="col-md-8">
                        <input class="form-control text-right" type="number" min="0" max="99999" style=""
                               [(ngModel)]="pointer.maskPassCourse">
                    </div>
                </div>
            </div>

        </div>

        <div class="row">
            <div class="col-md-12">
                <hr [class.separator-hr]="!isEditMode" [class.edit-separator-hr]="isEditMode" />
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <div class="form-group has-feedback">
                    <label class="control-label col-md-4">{{'label.materialLearn.CalBeCourse' | translate}}</label>
                    <div class="col-md-8">
                        <input class="form-control" type="text" [(ngModel)]="pointer.calBeCourse">
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="form-group has-feedback">
                    <label class="control-label col-md-4">{{'label.materialLearn.SpBeCourse' | translate}}</label>
                    <div class="col-md-8">
                        <input class="form-control" type="text" [(ngModel)]="pointer.spBeCourse">
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <hr [class.separator-hr]="!isEditMode" [class.edit-separator-hr]="isEditMode" />
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <div class="form-group has-feedback">
                    <label class="control-label col-md-4">{{'label.materialLearn.CalEnCourse' | translate}}</label>
                    <div class="col-md-8">
                        <input class="form-control" type="text" [(ngModel)]="pointer.calEnCourse">
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="form-group has-feedback">
                    <label class="control-label col-md-4">{{'label.materialLearn.SpEnCourse' | translate}}</label>
                    <div class="col-md-8">
                        <input class="form-control" type="text" [(ngModel)]="pointer.spEnCourse">
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <hr [class.separator-hr]="!isEditMode" [class.edit-separator-hr]="isEditMode" />
            </div>
        </div>

        <div class="row">
            <div class="col-sm-12">
                <div class="form-group has-feedback">
                    <label class="control-label col-md-2">{{'label.materialLearn.Note' | translate}}</label>
                    <div class="col-md-10">
                        <textarea class="form-control" [(ngModel)]="pointer.note"></textarea>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <hr [class.separator-hr]="!isEditMode" [class.edit-separator-hr]="isEditMode" />
            </div>
        </div>

        <div class="modal-footer">
            <button type="button" class="btn btn-default" (click)="close()" data-dismiss="modal">{{'button.Close' | translate}}</button>
            <button type="button" class="btn btn-primary" (click)="save()">{{'button.Save' | translate}}</button>
        </div>
    </div>
</ng-template>

